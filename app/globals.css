/* app/globals.css */
@import "tailwindcss";

/* ---- Theme tokens + BREAKPOINTS (Tailwind v4) ---- */
@theme inline {
  /* Critical: breakpoints so md: classes work */
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;

  /* Colors map to CSS variables below */
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  /* Fonts: use Inter from layout.tsx site-wide */
  --font-sans: var(--font-inter), Helvetica, Arial, sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;
}

/* ---- Light / Dark vars ---- */
:root {
  --background: #ffffff;
  --foreground: #171717;

  /* Header height used by hero calc; desktop/tablet default */
  --header-h: 64px;

  /* Mobile-safe viewport height (JS will set this precisely via VHFix) */
  --vhpx: 100vh; /* fallback until JS runs */
  /* Prefer dynamic viewport when supported */
}
@supports (height: 100svh) {
  :root { --vhpx: 100svh; }
}
@supports (height: 100dvh) {
  :root { --vhpx: 100dvh; } /* best when available */
}

/* Phones: if your mobile nav is a different height, adjust here */
@media (max-width: 767px) {
  :root { --header-h: 56px; } /* change to 64px/72px if that matches your mobile nav */
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* ---- Base ---- */
*, ::before, ::after { box-sizing: border-box; }

html {
  /* ✅ lock rem baseline so prod == local */
  font-size: 16px;
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  scroll-behavior: smooth; /* global smooth scroll (honored unless reduced motion) */
}

/* Force a solid black page background to prevent any grey/white bands
   from showing between hero and footer on any device */
html, body { background: #000; }

body {
  margin: 0;
  /* text color still uses your token */
  color: var(--foreground);
  font-family: var(--font-sans); /* Inter everywhere */
  line-height: 1.5;
  overflow-x: hidden; /* avoid accidental sideways scroll on small screens */
}

/* Media defaults */
img, video, canvas, svg {
  display: block;
  max-width: 100%;
  height: auto;
}

/* Links */
a { color: inherit; text-decoration: none; }

/* ✅ FIX: only underline real text links, not button-style CTAs */
.prose a:hover,
.richtext a:hover,
p a:hover,
li a:hover {
  text-decoration: underline;
  text-underline-offset: 3px;
}

/* Utility to hard-lock scroll if you ever need it */
.nav-no-scroll { overflow: hidden; }

/* Optional helper if you want to guarantee nav sits above hero media:
   add className="site-nav" on your nav component (or just use Tailwind z-50) */
.site-nav { position: fixed; inset-inline: 0; top: 0; z-index: 50; }

/* ---------- Scroll cue animation (subtle, luxury) ---------- */
@keyframes caretFloat {
  0%   { transform: translateY(0);   opacity: .55; }
  50%  { transform: translateY(6px); opacity: 1;   }
  100% { transform: translateY(0);   opacity: .55; }
}
.scroll-caret { animation: caretFloat 2.2s ease-in-out infinite; }

/* ---------- Reduced-motion & media fallbacks ---------- */
@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto !important; }
  .hero-video { display: none !important; }
  .hero-image { display: block !important; }
  .scroll-caret { animation: none !important; }
}

/* If a page contains a full-bleed hero, drop the default header padding */
body:has(section[data-hero="full"]) .page-shell {
  padding-top: 0 !important;
}

